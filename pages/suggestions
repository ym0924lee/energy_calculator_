import streamlit as st
import requests
import json # JSON ì‘ë‹µ ì²˜ë¦¬ë¥¼ ìœ„í•´ ì¶”ê°€

# Streamlit í˜ì´ì§€ ì„¤ì •
st.set_page_config(layout="wide", page_title="í•œêµ­ ë‚ ì”¨ & ëƒ‰ë‚œë°© ê°€ì´ë“œ")
st.title("â˜€ï¸ í•œêµ­ ë‚ ì”¨ ë° ëƒ‰ë‚œë°©ê¸° ì‚¬ìš©ëŸ‰ ê°€ì´ë“œ ğŸŒ¬ï¸")

# --- 1. API í‚¤ ë¡œë“œ ---
try:
    # í™˜ê²½ ë³€ìˆ˜ì—ì„œ API í‚¤ ë¡œë“œ ì‹œë„ (ë¡œì»¬ ê°œë°œìš©)
    api_key = st.secrets["WEATHER_API_KEY"]
except KeyError:
    st.error("âš ï¸ API í‚¤ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. 'WEATHER_API_KEY' í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ê±°ë‚˜, '.streamlit/secrets.toml' íŒŒì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”.")
    st.stop() # API í‚¤ ì—†ìœ¼ë©´ ì•± ì¤‘ë‹¨

# --- 2. ê¸°ìƒì²­ API í˜¸ì¶œ í•¨ìˆ˜ ì •ì˜ ---
def get_living_weather_data(api_key, area_no, data_type="JSON"):
    # ê¸°ìƒì²­_ìƒí™œê¸°ìƒì§€ìˆ˜ ì¡°íšŒì„œë¹„ìŠ¤(3.0) - ìì™¸ì„ ì§€ìˆ˜, ëŒ€ê¸°ì •ì²´ì§€ìˆ˜, ì—¬ë¦„ì²  ì²´ê°ì˜¨ë„
    # API ë¬¸ì„œì— ë”°ë¼ ì ì ˆí•œ ì„œë¹„ìŠ¤ URL ë° íŒŒë¼ë¯¸í„° êµ¬ì„±
    # ì—¬ê¸°ì„œëŠ” 'ìì™¸ì„ ì§€ìˆ˜', 'ëŒ€ê¸°ì •ì²´ì§€ìˆ˜', 'ëŒ€ìƒí™˜ê²½ë³„ ì—¬ë¦„ì²  ì²´ê°ì˜¨ë„'ë¥¼ ëª¨ë‘ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë„ë¡ ì¼ë°˜í™”
    # ê° ì§€ìˆ˜ë³„ API ì—”ë“œí¬ì¸íŠ¸ê°€ ë‹¤ë¥¼ ìˆ˜ ìˆìœ¼ë‹ˆ, í•„ìš”ì‹œ í•¨ìˆ˜ë¥¼ ë¶„ë¦¬í•˜ê±°ë‚˜ if/elseë¡œ ì²˜ë¦¬ í•„ìš”

    # ì˜ˆì‹œ URL (API ë¬¸ì„œì— ë”°ë¼ ì •í™•íˆ ë§ì¶°ì•¼ í•¨)
    # ì‹¤ì œ APIëŠ” ì„œë¹„ìŠ¤ë³„ë¡œ URLì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì˜ˆì‹œëŠ” í•˜ë‚˜ì˜ í†µí•©ëœ URLì„ ê°€ì •í•©ë‹ˆë‹¤.
    # ê¸°ìƒì²­ API ë¬¸ì„œì—ì„œ 'ìì™¸ì„ ì§€ìˆ˜', 'ëŒ€ê¸°ì •ì²´ì§€ìˆ˜', 'ëŒ€ìƒí™˜ê²½ë³„ ì—¬ë¦„ì²  ì²´ê°ì˜¨ë„'ì˜ ì •í™•í•œ ì—”ë“œí¬ì¸íŠ¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.
    
    # ğŸš¨ ì¤‘ìš”: ì•„ë˜ URLê³¼ ì„œë¹„ìŠ¤ í‚¤ íŒŒë¼ë¯¸í„°ëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤.
    #         ê¸°ìƒì²­ ìƒí™œê¸°ìƒì§€ìˆ˜ ì¡°íšŒì„œë¹„ìŠ¤(3.0)ì˜ ê° ì§€ìˆ˜ë³„ ì •í™•í•œ ìš”ì²­ URLê³¼ íŒŒë¼ë¯¸í„° ì´ë¦„ì„ API ë¬¸ì„œì—ì„œ í™•ì¸í•˜ì„¸ìš”.
    #         ì˜ˆì‹œ: ìì™¸ì„ ì§€ìˆ˜ (getUVIdx), ëŒ€ê¸°ì •ì²´ì§€ìˆ˜ (getAirPollutionIdx), ëŒ€ìƒí™˜ê²½ë³„ ì—¬ë¦„ì²  ì²´ê°ì˜¨ë„ (getAftmHoliIdx)
    
    # ì‹¤ì œ APIëŠ” ì§€ìˆ˜ë³„ë¡œ ì„œë¹„ìŠ¤ê°€ ë‚˜ë‰˜ì–´ ìˆì„ ê°€ëŠ¥ì„±ì´ í½ë‹ˆë‹¤.
    # ì˜ˆë¥¼ ë“¤ì–´, ìì™¸ì„ ì§€ìˆ˜ëŠ” getUVIdx, ëŒ€ê¸°ì •ì²´ì§€ìˆ˜ëŠ” getAirPollutionIdx ë“±.
    # ë”°ë¼ì„œ ê° ì§€ìˆ˜ë³„ë¡œ API í˜¸ì¶œ í•¨ìˆ˜ë¥¼ ë”°ë¡œ ë§Œë“¤ê±°ë‚˜, í•˜ë‚˜ì˜ í•¨ìˆ˜ ë‚´ì—ì„œ ì¡°ê±´ë¶€ë¡œ URLì„ ë°”ê¿”ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

    base_url = "http://apis.data.go.kr/1360000/LivingAndHealthWeatherStats/"
    
    endpoints = {
        "ìì™¸ì„ ì§€ìˆ˜": "getUVIdx",
        "ëŒ€ê¸°ì •ì²´ì§€ìˆ˜": "getAirPollutionIdx",
        "ì—¬ë¦„ì²  ì²´ê°ì˜¨ë„": "getAftmHoliIdx" # API ë¬¸ì„œì— ì •í™•í•œ ì´ë¦„ í™•ì¸ í•„ìš”
    }
    
    results = {}
    
    for key, endpoint in endpoints.items():
        url = f"{base_url}{endpoint}"
        params = {
            'serviceKey': api_key,
            'dataType': data_type,
            'areaNo': area_no, # ì§€ì—­ ì½”ë“œ
            'time': '202506101800' # í˜„ì¬ ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ë³€ê²½í•´ì•¼ í•¨. YYYYMMDDHHMM í˜•ì‹.
                                    # ì´ ì˜ˆì‹œëŠ” ê³ ì •ëœ ê°’ì…ë‹ˆë‹¤. ì‹¤ì œë¡œëŠ” í˜„ì¬ ì‹œê°„ì„ ë™ì ìœ¼ë¡œ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.
                                    # from datetime import datetime / datetime.now().strftime("%Y%m%d%H%M")
            # ì¶”ê°€ íŒŒë¼ë¯¸í„°ê°€ ìˆì„ ìˆ˜ ìˆìŒ (ì˜ˆ: date, hour ë“±)
        }

        try:
            response = requests.get(url, params=params)
            response.raise_for_status() # HTTP ì˜¤ë¥˜ ë°œìƒ ì‹œ ì˜ˆì™¸ ë°œìƒ

            data = response.json()
            
            # API ì‘ë‹µ êµ¬ì¡°ì— ë”°ë¼ ë°ì´í„° ì¶”ì¶œ
            # ì˜ˆì‹œ: items.item ë¦¬ìŠ¤íŠ¸ ì•ˆì— ë°ì´í„°ê°€ ìˆë‹¤ê³  ê°€ì •
            if 'response' in data and 'body' in data['response'] and 'items' in data['response']['body']:
                items = data['response']['body']['items']['item']
                if items:
                    # ê°€ì¥ ìµœê·¼ ë˜ëŠ” ì²« ë²ˆì§¸ ì•„ì´í…œì˜ ì •ë³´ ì¶”ì¶œ
                    results[key] = items[0] 
                else:
                    results[key] = {"message": f"'{key}' ë°ì´í„° ì—†ìŒ"}
            else:
                results[key] = {"message": f"'{key}' ì‘ë‹µ êµ¬ì¡° ì˜¤ë¥˜ ë˜ëŠ” ë°ì´í„° ì—†ìŒ"}

        except requests.exceptions.RequestException as e:
            results[key] = {"error": f"'{key}' ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {e}"}
        except json.JSONDecodeError:
            results[key] = {"error": f"'{key}' ì‘ë‹µ JSON ë””ì½”ë”© ì˜¤ë¥˜. ì‘ë‹µ ë‚´ìš©: {response.text}"}
            
    return results

# --- 3. ì§€ì—­ ì½”ë“œ ë§¤í•‘ (ì˜ˆì‹œ) ---
# ì‹¤ì œ ê¸°ìƒì²­ ìƒí™œê¸°ìƒì§€ìˆ˜ APIì˜ 'areaNo'ì— ë§ëŠ” ì§€ì—­ ì½”ë“œë¥¼ ì •í™•íˆ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.
# ì/ë©´/ë™ ë‹¨ìœ„ê¹Œì§€ëŠ” APIê°€ ì§€ì›í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë©°, ì‹œ/êµ° ë‹¨ìœ„ê¹Œì§€ë§Œ ì§€ì›í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
# ê¸°ìƒì²­ API ë¬¸ì„œì—ì„œ ì œê³µí•˜ëŠ” 'ì§€ì—­ì½”ë“œ' í‘œë¥¼ ì°¸ì¡°í•˜ì—¬ ì •í™•í•œ ì½”ë“œë¥¼ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.
korea_area_codes = {
    "ì„œìš¸": "11B10101",
    "ë¶€ì‚°": "11H20201",
    "ëŒ€êµ¬": "11H10701",
    "ì¸ì²œ": "11B20201",
    "ê´‘ì£¼": "11F20501",
    "ëŒ€ì „": "11C20401",
    "ìš¸ì‚°": "11H20101",
    "ì„¸ì¢…": "11C20404", # ì„¸ì¢…ì€ ëŒ€ì „ ê¸°ìƒì²­ ê´€í• ì¼ ê°€ëŠ¥ì„± ìˆìŒ
    "ê²½ê¸°": "11B00000", # ê²½ê¸°ë„ ì „ì²´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì½”ë“œ (ë§Œì•½ ìˆë‹¤ë©´)
    "ê°•ì›": "11C00000",
    "ì¶©ë¶": "11C10000",
    "ì¶©ë‚¨": "11C20000",
    "ì „ë¶": "11F10000",
    "ì „ë‚¨": "11F20000",
    "ê²½ë¶": "11H10000",
    "ê²½ë‚¨": "11H20000",
    "ì œì£¼": "11G00000",
    # ì‹¤ì œ ê¸°ìƒì²­ API ì§€ì—­ ì½”ë“œë¡œ ì—…ë°ì´íŠ¸ í•„ìš”
}

# --- 4. Streamlit UI êµ¬ì„± ---
st.header("ğŸ¡ 1. ìœ„ì¹˜ ì„ íƒ")

selected_city_name = st.selectbox(
    "ê±°ì£¼í•˜ì‹œëŠ” ë„ì‹œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”:",
    list(korea_area_codes.keys()),
    index=list(korea_area_codes.keys()).index("ì„œìš¸") # ê¸°ë³¸ê°’ ì„œìš¸
)

selected_area_code = korea_area_codes[selected_city_name]

if st.button("ë‚ ì”¨ ì •ë³´ ë° ëƒ‰ë‚œë°© ê°€ì´ë“œ ë³´ê¸°"):
    with st.spinner(f"'{selected_city_name}'ì˜ ë‚ ì”¨ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤..."):
        weather_info = get_living_weather_data(api_key, selected_area_code)

    if weather_info:
        st.success(f"âœ”ï¸ '{selected_city_name}' ë‚ ì”¨ ì •ë³´ ë¡œë“œ ì™„ë£Œ!")
        
        st.subheader(f"âœ¨ 2. {selected_city_name} ìƒí™œ ê¸°ìƒ ì§€ìˆ˜")
        
        # ìì™¸ì„ ì§€ìˆ˜ í‘œì‹œ
        if "ìì™¸ì„ ì§€ìˆ˜" in weather_info and 'value' in weather_info["ìì™¸ì„ ì§€ìˆ˜"]:
            uv_index = weather_info["ìì™¸ì„ ì§€ìˆ˜"]['value'] # ì‹¤ì œ í•„ë“œëª… í™•ì¸
            uv_grade = ""
            if 0 <= uv_index <= 2: uv_grade = "ë‚®ìŒ"
            elif 3 <= uv_index <= 5: uv_grade = "ë³´í†µ"
            elif 6 <= uv_index <= 7: uv_grade = "ë†’ìŒ"
            elif 8 <= uv_index <= 10: uv_grade = "ë§¤ìš° ë†’ìŒ"
            else: uv_grade = "ìœ„í—˜"
            st.metric(label="â˜€ï¸ ìì™¸ì„  ì§€ìˆ˜", value=f"{uv_index} ({uv_grade})")
            if uv_grade in ["ë†’ìŒ", "ë§¤ìš° ë†’ìŒ", "ìœ„í—˜"]:
                st.info("ì„ í¬ë¦¼, ì„ ê¸€ë¼ìŠ¤, ëª¨ì ë“±ì„ ì°©ìš©í•˜ê³  ì™¸ì¶œì„ ìì œí•˜ëŠ” ê²ƒì´ ì¢‹ì•„ìš”.")
        elif "ìì™¸ì„ ì§€ìˆ˜" in weather_info and "message" in weather_info["ìì™¸ì„ ì§€ìˆ˜"]:
            st.warning(f"ìì™¸ì„  ì§€ìˆ˜: {weather_info['ìì™¸ì„ ì§€ìˆ˜']['message']}")
        elif "ìì™¸ì„ ì§€ìˆ˜" in weather_info and "error" in weather_info["ìì™¸ì„ ì§€ìˆ˜"]:
            st.error(f"ìì™¸ì„  ì§€ìˆ˜ ì˜¤ë¥˜: {weather_info['ìì™¸ì„ ì§€ìˆ˜']['error']}")

        # ëŒ€ê¸°ì •ì²´ì§€ìˆ˜ í‘œì‹œ (API ë¬¸ì„œì— ë”°ë¼ í•„ë“œëª…ê³¼ ê°’ ë²”ìœ„ í™•ì¸ í•„ìš”)
        if "ëŒ€ê¸°ì •ì²´ì§€ìˆ˜" in weather_info and 'value' in weather_info["ëŒ€ê¸°ì •ì²´ì§€ìˆ˜"]:
            air_stagnation_index = weather_info["ëŒ€ê¸°ì •ì²´ì§€ìˆ˜"]['value'] # ì‹¤ì œ í•„ë“œëª… í™•ì¸
            st.metric(label="ğŸ­ ëŒ€ê¸° ì •ì²´ ì§€ìˆ˜", value=f"{air_stagnation_index}")
            if air_stagnation_index >= 50: # ì˜ˆì‹œ ê¸°ì¤€
                st.warning("ëŒ€ê¸°ê°€ ì •ì²´ë˜ì–´ ë¯¸ì„¸ë¨¼ì§€ ë†ë„ê°€ ë†’ì•„ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë§ˆìŠ¤í¬ ì°©ìš© ë° í™˜ê¸°ì— ì£¼ì˜í•˜ì„¸ìš”.")
        elif "ëŒ€ê¸°ì •ì²´ì§€ìˆ˜" in weather_info and "message" in weather_info["ëŒ€ê¸°ì •ì²´ì§€ìˆ˜"]:
            st.warning(f"ëŒ€ê¸° ì •ì²´ ì§€ìˆ˜: {weather_info['ëŒ€ê¸°ì •ì²´ì§€ìˆ˜']['message']}")
        elif "ëŒ€ê¸°ì •ì²´ì§€ìˆ˜" in weather_info and "error" in weather_info["ëŒ€ê¸°ì •ì²´ì§€ìˆ˜"]:
            st.error(f"ëŒ€ê¸° ì •ì²´ ì§€ìˆ˜ ì˜¤ë¥˜: {weather_info['ëŒ€ê¸°ì •ì²´ì§€ìˆ˜']['error']}")

        # ì—¬ë¦„ì²  ì²´ê°ì˜¨ë„ í‘œì‹œ (API ë¬¸ì„œì— ë”°ë¼ í•„ë“œëª…ê³¼ ê°’ ë²”ìœ„ í™•ì¸ í•„ìš”)
        if "ì—¬ë¦„ì²  ì²´ê°ì˜¨ë„" in weather_info and 'value' in weather_info["ì—¬ë¦„ì²  ì²´ê°ì˜¨ë„"]:
            felt_temperature = weather_info["ì—¬ë¦„ì²  ì²´ê°ì˜¨ë„"]['value'] # ì‹¤ì œ í•„ë“œëª… í™•ì¸
            st.metric(label="ğŸ¥µ ì—¬ë¦„ì²  ì²´ê°ì˜¨ë„", value=f"{felt_temperature}Â°C")

            st.subheader("ğŸ’¡ 3. ëƒ‰ë‚œë°©ê¸° ì ì • ì‚¬ìš©ëŸ‰ ê°€ì´ë“œ")
            if felt_temperature >= 33: # ë§¤ìš° ë”ìš´ ë‚ 
                st.markdown("**ğŸ”¥ í­ì—¼ ì£¼ì˜! ëƒ‰ë°©ê¸° ê°€ë™ í•„ìˆ˜!**")
                st.info("ì‹¤ë‚´ ì˜¨ë„ë¥¼ 26Â°C ì´í•˜ë¡œ ìœ ì§€í•˜ì—¬ ì˜¨ì—´ ì§ˆí™˜ì„ ì˜ˆë°©í•˜ì„¸ìš”. ì¶©ë¶„í•œ ìˆ˜ë¶„ ì„­ì·¨ë„ ì¤‘ìš”í•´ìš”.")
                st.caption("ê³¼ë„í•œ ëƒ‰ë°©ì€ ê±´ê°•ì— í•´ë¡œìš¸ ìˆ˜ ìˆìœ¼ë‹ˆ, ì‹¤ë‚´ì™¸ ì˜¨ë„ ì°¨ì´ë¥¼ 5Â°C ë‚´ì™¸ë¡œ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.")
            elif felt_temperature >= 28: # ë”ìš´ ë‚ 
                st.markdown("**ğŸ¥µ ë”ìœ„ ì˜ˆìƒ! ëƒ‰ë°©ê¸° ì‚¬ìš© ê¶Œì¥!**")
                st.info("ì‹¤ë‚´ ì˜¨ë„ë¥¼ 26~28Â°Cë¡œ ì„¤ì •í•˜ì—¬ ì¾Œì í•¨ì„ ìœ ì§€í•˜ì„¸ìš”. ì„ í’ê¸°ì™€ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ë” íš¨ìœ¨ì ì´ì—ìš”.")
            elif felt_temperature <= 10: # ë§¤ìš° ì¶”ìš´ ë‚  (ì—¬ë¦„ì² ì—ëŠ” ê±°ì˜ ì—†ì„ ìˆ˜ ìˆìŒ)
                st.markdown("**ğŸ¥¶ ì¶”ìœ„ ì˜ˆìƒ! ë‚œë°©ê¸° ì‚¬ìš© ê³ ë ¤!**")
                st.info("ì‹¤ë‚´ ì˜¨ë„ë¥¼ 20~22Â°Cë¡œ ìœ ì§€í•˜ì—¬ ì²´ì˜¨ì„ ë³´í˜¸í•˜ì„¸ìš”. ë”°ëœ»í•œ ì˜·ì°¨ë¦¼ë„ ì¤‘ìš”í•©ë‹ˆë‹¤.")
            else:
                st.markdown("**ğŸƒ ì¾Œì í•œ ë‚ ì”¨! ëƒ‰ë‚œë°©ê¸° ì‚¬ìš© ìì œ!**")
                st.info("í™˜ê¸°ë¥¼ í†µí•´ ì‹¤ë‚´ ê³µê¸°ë¥¼ ìˆœí™˜ì‹œí‚¤ê³ , ìì—° ë°”ëŒì„ í™œìš©í•˜ì—¬ ì—ë„ˆì§€ ì ˆì•½ì— ë™ì°¸í•˜ì„¸ìš”.")
        elif "ì—¬ë¦„ì²  ì²´ê°ì˜¨ë„" in weather_info and "message" in weather_info["ì—¬ë¦„ì²  ì²´ê°ì˜¨ë„"]:
            st.warning(f"ì—¬ë¦„ì²  ì²´ê°ì˜¨ë„: {weather_info['ì—¬ë¦„ì²  ì²´ê°ì˜¨ë„']['message']}")
            st.subheader("ğŸ’¡ 3. ëƒ‰ë‚œë°©ê¸° ì ì • ì‚¬ìš©ëŸ‰ ê°€ì´ë“œ")
            st.info("ì²´ê°ì˜¨ë„ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ì–´ ì¼ë°˜ì ì¸ ê°€ì´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.")
            st.write("26Â°C ì´ìƒì˜ ê¸°ì˜¨ì—ì„œëŠ” ëƒ‰ë°©ê¸°ë¥¼, 20Â°C ì´í•˜ì˜ ê¸°ì˜¨ì—ì„œëŠ” ë‚œë°©ê¸°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ ë³´ì„¸ìš”.")
        elif "ì—¬ë¦„ì²  ì²´ê°ì˜¨ë„" in weather_info and "error" in weather_info["ì—¬ë¦„ì²  ì²´ê°ì˜¨ë„"]:
            st.error(f"ì—¬ë¦„ì²  ì²´ê°ì˜¨ë„ ì˜¤ë¥˜: {weather_info['ì—¬ë¦„ì²  ì²´ê°ì˜¨ë„']['error']}")
            st.subheader("ğŸ’¡ 3. ëƒ‰ë‚œë°©ê¸° ì ì • ì‚¬ìš©ëŸ‰ ê°€ì´ë“œ")
            st.info("ì²´ê°ì˜¨ë„ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ì–´ ì¼ë°˜ì ì¸ ê°€ì´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.")
            st.write("26Â°C ì´ìƒì˜ ê¸°ì˜¨ì—ì„œëŠ” ëƒ‰ë°©ê¸°ë¥¼, 20Â°C ì´í•˜ì˜ ê¸°ì˜¨ì—ì„œëŠ” ë‚œë°©ê¸°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ ë³´ì„¸ìš”.")
            
    else:
        st.error("ğŸ˜­ ë‚ ì”¨ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.")
        st.info("API í‚¤, ë„¤íŠ¸ì›Œí¬ ì—°ê²°, ë˜ëŠ” ê¸°ìƒì²­ API ì„œë²„ ìƒíƒœë¥¼ í™•ì¸í•´ ì£¼ì„¸ìš”.")

st.markdown("---")
st.caption("ğŸ’¡ ë³¸ ê°€ì´ë“œëŠ” ê¸°ìƒì²­ ìƒí™œê¸°ìƒì§€ìˆ˜ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©°, ê°œì¸ì˜ ì²´ê° ë° í™˜ê²½ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
